{
  "app-id": "com.github.paolostivanin.OTPClient",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.26",
  "sdk": "org.gnome.Sdk",
  "command": "otpclient",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--socket=wayland",
    "--filesystem=xdg-run/dconf",
    "--filesystem=~/.config/dconf:ro",
    "--talk-name=ca.desrt.dconf",
    "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
  ],
  "modules": [
    {
      "name": "libzip",
      "buildsystem": "cmake-ninja",
      "config-opts": ["-DCMAKE_BUILD_TYPE=Release"],
      "cleanup": [
        "/include",
        "/bin",
        "/share",
        "/lib/pkgconfig",
        "/lib/*.la"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://libzip.org/download/libzip-1.5.0.tar.xz",
          "sha256": "5ddb9b41d31b2f99ad4d512003c610ae2db70e222833aba6f9332d5b48a153d9"
        }
      ]
    },
    {
      "name": "jansson",
      "cleanup": [
        "/include",
        "/bin",
        "/share",
        "/lib/pkgconfig",
        "/lib/*.la"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "http://www.digip.org/jansson/releases/jansson-2.11.tar.gz",
          "sha256": "6e85f42dabe49a7831dbdd6d30dca8a966956b51a9a50ed534b82afc3fa5b2f4"
        }
      ]
    },
    {
      "name": "libbaseencode",
      "buildsystem": "cmake-ninja",
      "config-opts": ["-DCMAKE_BUILD_TYPE=Release"],
      "cleanup": [
        "/include"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/paolostivanin/libbaseencode/archive/v1.0.4.tar.gz",
          "sha256": "1ed0a3dd29a0ed70c7113f1b1b7d17f72c65454946a9fb915edf5050f8e0c65d"
        }
      ]
    },
    {
      "name": "libcotp",
      "buildsystem": "cmake-ninja",
      "config-opts": ["-DCMAKE_BUILD_TYPE=Release"],
      "cleanup": [
        "/include"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/paolostivanin/libcotp/archive/v1.0.11.tar.gz",
          "sha256": "fd01f46a81a1f2811c932eab336276d982369401ae405e36034f1aa859b04a74"
        }
      ]
    },
    {
      "name": "OTPClient",
      "buildsystem": "cmake-ninja",
      "config-opts": ["-DCMAKE_BUILD_TYPE=Release", "-DUSE_FLATPAK_APP_FOLDER=ON"],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/paolostivanin/OTPClient/archive/v1.1.1.tar.gz",
          "sha256": "e98e6257016c2564af590445c5511ed1076cc5c985d196cd71bcfc478975de85"
        }
      ]
    }
  ]
}
